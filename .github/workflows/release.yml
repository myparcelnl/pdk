name: 'Publish new version ðŸš€'
on:
  push:
    branches:
      - main

    paths:
      - .github/workflows/release.yml
      - .github/workflows/test.yml
      - composer.json
      - composer.lock
      - src/**/*
      - test/**/*

  workflow_dispatch:

jobs:
  test:
    uses: myparcelnl/sdk/.github/workflows/test.yml@main
    secrets: inherit

  release:
    uses: myparcelnl/actions/.github/workflows/--semantic-release.yml@v2
    secrets: inherit
